<launch>

  <arg name="lidar_driver" default="ydlidar" doc="Tipo de driver LiDAR: 'hlds' ou 'ydlidar'"/>

  <include file="$(find conf)/launch/navigation/navigation_controller/run_navigation_controller.launch"/>
  
  <!-- Passar input_topic_type baseado no driver de lidar -->
  <include file="$(find conf)/launch/navigation/localizer/beacon_detector/run_beacon_detector.launch">
    <arg name="input_topic_type" value="$(eval 'point_cloud' if arg('lidar_driver') == 'ydlidar' else 'laser_scan')"/>
  </include>

  <include file="$(find conf)/launch/navigation/localizer/ekf_localizer/run_ekf_localizer.launch"/>

</launch>
